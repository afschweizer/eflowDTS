<div ng-controller="Scr_Vehicules_Online_Controller" ng-init="init()">
  
 
 <div class="btn btn-primary btn-block btn-lg" ng-click="refresh();" >
 	<span class="pull-left"> Total de Usuarios: {{ArrayUser.length}} </span>
   <span class="pull-center"> Actualizar Información </span>   
 </div>
 
  <div class="row" >
       <!--Rastreo de Camión-->
			<div class="col-md-12 col-sm-12 col-xs-12">
		 		 <div class="box ">
                <div class="box-header with-border bg-blue">
                  <h3 class="box-title"><b>Rastreo de Vehículos</b></h3>
                 <div class="box-tools pull-right">
                    <button class="btn btn-box-tool" data-toggle="tooltip" title="Refrescar" ng-click="Create_Map();"><i class="glyphicon glyphicon-sort"></i></button>
                  </div>
                </div><!-- /.box-header -->
                <div class="box-body no-padding" ng-show="Show_Components.Map_Online_User">
                      <div class="pad"  >
                        <!-- Map will be created here -->
                        <div id="world-map-markers" style="height: 410px;" >
							<div class="jvectormap-container"  style="width: 100%; height: 100%; position: relative; overflow: hidden; background-color: transparent;">
								<div id="Map_Online_User"  style="height: 400px;">
								</div>
							</div>
						</div>
                      </div>
                </div><!-- /.box-body -->
              </div>
           </div>
   </div>


 
  <br/>
  <br/>
  <br/>
  
  <div ng-show="Show_Components.Show_User_Online" align="center">
    
    <h1>
    <i class="fa fa-spinner"></i> ¡No hay Usuarios en línea!
    </h1>
    
  </div>
  
  
  
  <div class="row" ng-show="Show_Components.Show_List">

    		<div class="col-lg-3 col-xs-6" ng-repeat="User in ArrayUser">
              <!-- small box -->
              <div class="small-box bg-blue ">
                <div class="inner" ng-click="Create_Map(User)">
                  <h5>{{User.Geolocation.Address}}</h5> 
                  <h5>Placa: {{User.ID_Truck}}</h5> 
                  <h5>{{User.UserName}}</h5> 
                  <h5>Última conexión : {{User.Date | date : 'mediumTime'}}</h5>
                  <div>                    
                  <span>Completado: {{(((((ArrayJobs| filter : {'ID_Truck':User.ID_Truck,'User':User.User} : true).length)-((ArrayJobs| filter : {'ID_Truck':User.ID_Truck,'User':User.User,'Visit_State':'In_Process'} : true).length))*100)/(((ArrayJobs| filter : {'ID_Truck':User.ID_Truck,'User':User.User} : true).length)))|number:0}}%</span>
                  <span class="pull-right">Trabajos Asignados: {{(ArrayJobs| filter : {'ID_Truck':User.ID_Truck,'User':User.User} : true).length}}</span>
                  </div>
                </div>
                <div class="icon">
                    <i class="fa fa-truck"></i>                  
                </div>
                <a ng-click="See_Info(User)" class=" small-box-footer bg-black">
                 Más Información <i class="fa fa-arrow-circle-right"></i>
                </a>
              </div>
            </div>
  
  </div> 
</div>