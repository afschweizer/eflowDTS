
<script src="scripts/externals/jspdf.min.js"></script>
<script src="scripts/externals/jspdf.plugin.autotable.src.js"></script>
<div id="Contents" ng-controller="Scr_VisitPoint_Controller" ng-init="init()"> 

<!--<div ng-controller="Scr_User_Controller" ng-init="init()"> --> 
  <div id="Options">
  <div style="text-align: center;">  
    <span style="display:inline-block;">
      <h4>
          Mantenimiento de Establecimiento
      </h4>
    </span>
   </div>
  <span id="Buttons" style="margin-left:7%;">
  <span>
     <a class="btn btn-primary span4" ng-show="Show_Components.VisitPoint_Add" ng-click="Show_Components.VisitPoint_Table = false; Show_Components.VisitPoint_Form_New = true; Show_Components.VisitPoint_Add = false; Load_New_Visit_Point();" data-toggle="tooltip" title="Agregar Puntos de Visita">
       <i class="glyphicon glyphicon-plus"></i>Agregar Puntos de Visita</a>   
	</span>
  <span ng-show="Show_Actions">
              <select style="width:175px " class="btn btn-primary span4" ng-model="Option" ng-change="Action_Option(Option)"> 
                  <option value="">Acción</option>
                  <option value="Eliminar">Eliminar</option>
              </select>
            </span>
			    <span id="right" style="float:right;"> 
           <select style="width:175px " class="btn btn-primary span4" ng-model="Export_Type" ng-change="Export_File(Export_Type,(ArrayVisitPoint | filter: search | orderBy: OrderList))"> 
              <option value="">Exportar a archivo</option>
              <option value="JSON">JSON</option>
              <option value="XML">XML</option>
              <option value="CSV">CSV</option>
              <option value="PDF">PDF</option>
           </select>
      </span> 
  </span>  
  </div>
  <hr/>
  
  
				
  <!--  Agregar -->
      <div class="row" ng-show="Show_Components.VisitPoint_Form_New">
     <!--Rastreo de Camión-->
			<div class="col-md-5 col-sm-5 col-xs-12">
		 		 <div class="pad"  >
                 <div id="world-map-markers" style="height: 600px;">
							<div class="jvectormap-container"  style="width: 100%; height: 100%; position: relative; overflow: hidden; background-color: transparent;">
								<div id="Map_Dashboard_New"  style="height: 600px;">
								</div>
							</div>
						</div>
               </div>
            </div>
    <div class="col-md-7 col-sm-7 col-xs-12">
              <!-- form start -->
                <form class="form-horizontal" ng-submit="Add_New_Visit_Point(VisitPoint)"><!-- ng-submit="Add_New_Visit_Point(VisitPoint)" -->
                  <div class="box-body">
                    <div class="form-group">
						<label class="col-sm-4 control-label">Nombre del establecimiento:</label>
						<div class="col-sm-7"> 
							<div class="form-group">
								<input required type="text" class="form-control" ng-model="VisitPoint.Name" placeholder="Nombre del establecimiento..." required>
							</div>
						</div>
					</div>
                    <div class="form-group">
                        <label class="col-sm-4 control-label">Identificador del establecimiento:</label>
						<div class="col-sm-7"> 
							<div class="form-group">
								<input required type="text" class="form-control" ng-model="VisitPoint.ID_Location" placeholder="Identificador del establecimiento..." required >
							</div>
						</div>
					</div>
                    <div class="form-group">
						<label class="col-sm-4 control-label">Cédula Jurídica:</label>
						<div class="col-sm-7"> 
							<div class="form-group">
								<input required type="text" class="form-control" ng-model="VisitPoint.Legal_Cedula" placeholder="Cédula Jurídica..." required>
							</div>
						</div>
					</div>
                    <div class="form-group">
						<label class="col-sm-4 control-label">Ruta:</label> 
						<div class="col-sm-7"> 
							<div class="form-group">  
              <select ng-model="VisitPoint.Route" ng-options="Obj as Obj.Route_Name for Obj in ArrayRoute" ng-change="Print_Zone(VisitPoint.Route)" class="form-control" id="Ruta"></select>
				 <!--<input type="text" class="form-control" ng-model="VisitPoint.User" placeholder="Asignar al Usuario..." required>-->
           </div>
						</div>
					</div> <div class="form-group">
						<label class="col-sm-4 control-label">Latitud:</label> 
						<div class="col-sm-7"> 
							<div class="form-group">
								<input disabled required type="text" class="form-control" ng-model="VisitPoint.Latitude" placeholder="Latitud..." required>
							</div>
						</div>
					</div>
                    <div class="form-group">
						<label class="col-sm-4 control-label">Longitud:</label>
						<div class="col-sm-7"> 
							<div class="form-group">
								<input disabled required type="text" class="form-control" ng-model="VisitPoint.Longitude" placeholder="Longitud..." required>
							</div>
						</div>
					</div>
                    <div class="form-group">
						<label class="col-sm-4 control-label">Dirección:</label>
						<div class="col-sm-7"> 
							<div class="form-group">
								<input required type="text" class="form-control" ng-model="VisitPoint.Address" placeholder="Dirección..." required>
							</div>
						</div>
					</div>
                    <div class="form-group">
						<label class="col-sm-4 control-label">Número de teléfono:</label>
						<div class="col-sm-7"> 
							<div class="form-group">  
							  <input required type="number" class="form-control" ng-model="VisitPoint.Telephone_Number" placeholder="Número de teléfono..." required>
							</div>
						</div>
					</div>
					<div class="form-group">
						<label class="col-sm-4 control-label">Entregar a:</label>
						<div class="col-sm-7"> 
							<div class="form-group">
								<input required type="text" class="form-control" ng-model="VisitPoint.Manager" placeholder="Entregar a..." required>
							</div>
						</div>
					</div>
					<div class="form-group">
						<label class="col-sm-4 control-label">Correo del establecimiento:</label>
						<div class="col-sm-7"> 
							<div class="form-group">
								<input required type="email" class="form-control" ng-model="VisitPoint.Mail" placeholder="Correo del establecimiento..." required>
							</div>
						</div>
					</div>
                   
                  </div>
                <button type="submit" class="btn btn-primary glyphicon glyphicon-save"  style="background-color:#295C7A" data-toggle="tooltip" title="Guardar"> Guardar</button>
                <button type="reset" class="btn btn-primary glyphicon glyphicon-remove" ng-click="Show_Components.VisitPoint_Form_New = false;Show_Components.VisitPoint_Table = true; Show_Components.VisitPoint_Add = true;" title="Cancelar"  style="background-color:#295C7A" ><b> Cancelar</b></button>

            </form>
        </div><!--/.col (right) -->
  
           </div>	
                      
  
  
  
  <!--Table-->
  
      <div id="New_VisitPoint" class="table-responsive" style="margin-left: 1%;width: 98%; margin-right: 1%;" ng-show="Show_Components.VisitPoint_Table">
    <table class="table table-responsive table-striped table-hover"  class="resizable" >
     <thead >   
        <tr style="background-color:#4096c6; color:#fff; align:center">   
         <th style="width:auto;">Nº fila</th>
        <th>
          <p class="" />
       	 <input type="checkbox"  ng-model="master" ng-click="Checking_Checkboxes_Check_Master(master);"/>
        </th>
        <th style="text-align:center" ng-repeat="headers in ArrayHeaders" ng-click="To_Order_By(headers.value);"><i class="glyphicon glyphicon-sort"></i>   {{headers.es}}</th>
      </tr>
       <tr>
          <th>
          </th>
          <th>	
          </th>
          <th>
            <input ng-model="search.Name">
          </th>
          <th>
            <input ng-model="search.Legal_Cedula">
          </th>
          <th>
            <input ng-model="search.Route.Route_Name">
          </th>
          <th>
				<input ng-model="search.Address">          
          </th>
          <th>
				<input ng-model="search.Manager">          
          </th>
          <th>
            <input ng-model="search.Mail">
          </th>
        </tr>
    </thead>
    <tbody>
      <tr  ng-repeat="Obj in ArrayVisitPoint | filter: search |  orderBy: OrderList">
        <td ng-click="Visualize_Visit_Point(Obj);">{{$index+1}}</td>
        <td>
          <input type="checkbox" name="CheckBox_Options" ng-checked="master" ng-click="Checking_Checkboxes_Check();" value="{{Obj}}" id_check="{{Obj._id.$id}}"/> 
         
        	<!--<a >
           <div class="btn-group" role="group" aria-label="...">
 				<i class="btn btn-danger glyphicon glyphicon-remove-sign"  data-toggle="tooltip" title="Eliminar" ng-click="Remove_Message(obj);"></i>
        	  </div> 
          </a>-->
        </td>
        <td ng-click="Visualize_Visit_Point(Obj);">{{Obj.Name}}</td>
		<td ng-click="Visualize_Visit_Point(Obj);">{{Obj.Legal_Cedula}}</td>
        <td ng-click="Visualize_Visit_Point(Obj);">{{Obj.Route.Route_Name}}</td>
        <td ng-click="Visualize_Visit_Point(Obj);">{{Obj.Address}}</td>
        <td ng-click="Visualize_Visit_Point(Obj);">{{Obj.Manager}}</td>
        <td ng-click="Visualize_Visit_Point(Obj);">{{Obj.Mail}}</td> 
      </tr>
    </tbody>
    
  </table>
</div>
  
    
				

  
				<!--  Edit -->
		 
              
    <div class="row" ng-show="Show_Components.VisitPoint_Form_Edit">
     <!--Rastreo de Camión-->
			<div class="col-md-5 col-sm-5 col-xs-12">
		 		 <div class="pad"  >
                 <div id="world-map-markers" style="height: 600px;">
							<div class="jvectormap-container"  style="width: 100%; height: 100%; position: relative; overflow: hidden; background-color: transparent;">
								<div id="Map_Dashboard_Edit"  style="height: 600px;">
								</div>
							</div>
						</div>
               </div>
            </div>
    <div class="col-md-7 col-sm-7 col-xs-12">
              <!-- form start -->
                <form class="form-horizontal" ng-submit="Save_Visit_Point_Edit(VisitPoint)">
                  <div class="box-body">
                    <div class="form-group">
						<label class="col-sm-4 control-label">Nombre del establecimiento:</label>
						<div class="col-sm-7"> 
							<div class="form-group">
								<input required type="text" class="form-control" ng-model="VisitPoint.Name" placeholder="Nombre del establecimiento..." required>
							</div>
						</div>
					</div>
                    <div class="form-group">
                        <label class="col-sm-4 control-label">Identificador del establecimiento:</label>
						<div class="col-sm-7"> 
							<div class="form-group">
								<input required type="text" class="form-control" ng-model="VisitPoint.ID_Location" placeholder="Identificador del establecimiento..." required >
							</div>
						</div>
					</div>
                    <div class="form-group">
						<label class="col-sm-4 control-label">Cédula Jurídica:</label>
						<div class="col-sm-7"> 
							<div class="form-group">
								<input required type="text" class="form-control" ng-model="VisitPoint.Legal_Cedula" placeholder="Cédula Jurídica..." required>
							</div>
						</div>
					</div>
                    <div class="form-group">
						<label class="col-sm-4 control-label">Ruta:</label> 
						<div class="col-sm-7"> 
							<div class="form-group">  
							
							<!-- ng-model="VisitPoint.Route.ID_Route" ng-options="Obj.ID_Route as Obj.Route_Name for Obj in ArrayRoute" --> 
              <select   ng-model="VisitPoint.Route" ng-options="Obj as Obj.Route_Name for Obj in ArrayRoute"  ng-change="Print_Zone(VisitPoint.Route)" style="width: 80%;" class="form-control" id="Ruta"></select>
				 <!--<input type="text" class="form-control" ng-model="VisitPoint.User" placeholder="Asignar al Usuario..." required>-->
           </div>
						</div>
					</div> <div class="form-group">
						<label class="col-sm-4 control-label">Latitud:</label> 
						<div class="col-sm-7"> 
							<div class="form-group">
								<input disabled required type="text" class="form-control" ng-model="VisitPoint.Latitude" placeholder="Latitud..." required>
							</div>
						</div>
					</div>
                    <div class="form-group">
						<label class="col-sm-4 control-label">Longitud:</label>
						<div class="col-sm-7"> 
							<div class="form-group">
								<input  disabled required type="text" class="form-control" ng-model="VisitPoint.Longitude" placeholder="Longitud..." required>
							</div>
						</div>
					</div>
                    <div class="form-group">
						<label class="col-sm-4 control-label">Dirección:</label>
						<div class="col-sm-7"> 
							<div class="form-group">
								<input required type="text" class="form-control" ng-model="VisitPoint.Address" placeholder="Dirección..." required>
							</div>
						</div>
					</div>
                    <div class="form-group">
						<label class="col-sm-4 control-label">Número de teléfono:</label>
						<div class="col-sm-7"> 
							<div class="form-group">  
							  <input required type="number" class="form-control" ng-model="VisitPoint.Telephone_Number" placeholder="Número de teléfono..." required>
							</div>
						</div>
					</div>
					<div class="form-group">
						<label class="col-sm-4 control-label">Entregar a:</label>
						<div class="col-sm-7"> 
							<div class="form-group">
								<input required type="text" class="form-control" ng-model="VisitPoint.Manager" placeholder="Entregar a..." required>
							</div>
						</div>
					</div>
					<div class="form-group">
						<label class="col-sm-4 control-label">Correo del establecimiento:</label>
						<div class="col-sm-7"> 
							<div class="form-group">
								<input required type="email" class="form-control" ng-model="VisitPoint.Mail" placeholder="Correo del establecimiento..." required>
							</div>
						</div>
					</div>
                   
                  </div>
                  
                  <button type="submit" class="btn btn-primary glyphicon glyphicon-save" style="background-color:#295C7A" data-toggle="tooltip" title="Guardar"> Guardar</button>
                  <button type="reset"  ng-click="Show_Components.VisitPoint_Form_New = false; Show_Components.VisitPoint_Table = true; Show_Components.VisitPoint_Add = true; Show_Components.VisitPoint_Form_Edit = false;" class="btn btn-primary glyphicon glyphicon-remove" data-toggle="tooltip" title="Cerrar"  style="background-color:#295C7A"><b> Cancelar</b></button>

                </form>
                       			
								


            
            </div>
            </div>
		
  <!--
				<div class="modal fade" id="Modal_Agregar_VisitPoint" role="dialog">
              <div class="modal-dialog modal-lg">
                          
                <div class="modal-content">

                  <div class="modal-header">
                    <h2 class="modal-title"><i class="glyphicon glyphicon-user"></i> Agregar Puntos de Visita</h2>
                  </div>
             			<form>     
                		 <div class="modal-body">
        
                        <div class="panel panel-info">
                          <div class="panel-heading"><b>Todos</b> los campos son requeridos.</div></div>
 <div class="row" >
       
			<div class="col-md-6 col-sm-6 col-xs-12">
		 		 <div class="pad"  >
                 <div id="world-map-markers" style="height: 600px;">
							<div class="jvectormap-container"  style="width: 100%; height: 100%; position: relative; overflow: hidden; background-color: transparent;">
								<div id="Map_Dashboard"  style="height: 600px;">
								</div>
							</div>
						</div>
               </div>
            </div>
    <div class="col-md-6 col-sm-6 col-xs-12">
                <form class="form-horizontal" ng-submit="Save(VisitPoint)" >
                  <div class="box-body">
                    <div class="form-group">
						<label class="col-sm-4 control-label">Nombre del establecimiento:</label>
						<div class="col-sm-7"> 
							<div class="form-group">
								<input required type="text" class="form-control" ng-model="VisitPoint.Name" placeholder="Nombre del establecimiento..." required>
							</div>
						</div>
					</div>
                    <div class="form-group">
                        <label class="col-sm-4 control-label">Identificador del establecimiento:</label>
						<div class="col-sm-7"> 
							<div class="form-group">
								<input required type="text" class="form-control" ng-model="VisitPoint.ID_Location" placeholder="Identificador del establecimiento..." required >
							</div>
						</div>
					</div>
                    <div class="form-group">
						<label class="col-sm-4 control-label">Cédula Jurídica:</label>
						<div class="col-sm-7"> 
							<div class="form-group">
								<input required type="text" class="form-control" ng-model="VisitPoint.CedJur" placeholder="Dirección..." required>
							</div>
						</div>
					</div>
                    <div class="form-group">
						<label class="col-sm-4 control-label">Ruta:</label> 
						<div class="col-sm-7"> 
							<div class="form-group">  
              <select ng-model="VisitPoint.User" ng-options="Obj.ID as Obj.Name for Obj in ArrayRoute" style="width: 80%;" class="form-control" id="Usuario"></select>
			 </div>
						</div>
					</div> <div class="form-group">
						<label class="col-sm-4 control-label">Latitud:</label> 
						<div class="col-sm-7"> 
							<div class="form-group">
								<input required type="text" class="form-control" ng-model="VisitPoint.Latitude" placeholder="Latitud..." required>
							</div>
						</div>
					</div>
                    <div class="form-group">
						<label class="col-sm-4 control-label">Longitud:</label>
						<div class="col-sm-7"> 
							<div class="form-group">
								<input required type="text" class="form-control" ng-model="VisitPoint.Longitude" placeholder="Longitud..." required>
							</div>
						</div>
					</div>
                    <div class="form-group">
						<label class="col-sm-4 control-label">Dirección:</label>
						<div class="col-sm-7"> 
							<div class="form-group">
								<input required type="text" class="form-control" ng-model="VisitPoint.Address" placeholder="Dirección..." required>
							</div>
						</div>
					</div>
                    <div class="form-group">
						<label class="col-sm-4 control-label">Número de teléfono:</label>
						<div class="col-sm-7"> 
							<div class="form-group">  
							  <input required type="number" class="form-control" ng-model="VisitPoint.Telephone_Number" placeholder="Número de teléfono..." required>
							</div>
						</div>
					</div>
					<div class="form-group">
						<label class="col-sm-4 control-label">Entregar a:</label>
						<div class="col-sm-7"> 
							<div class="form-group">
								<input required type="text" class="form-control" ng-model="VisitPoint.Manager" placeholder="Entregar a..." required>
							</div>
						</div>
					</div>
					<div class="form-group">
						<label class="col-sm-4 control-label">Correo del establecimiento:</label>
						<div class="col-sm-7"> 
							<div class="form-group">
								<input required type="text" class="form-control" ng-model="VisitPoint.Mail" placeholder="Correo del establecimiento..." required>
							</div>
						</div>
					</div>
                   
                  </div>
                  <div class="box-footer">
                    <button type="reset" value="Reset" class="btn btn-primary"> Cancelar Punto Visita</button>
                    <button type="submit" class="btn btn-primary pull-right"  > Guardar Punto Visita</button>
                  </div>
                </form>
            </div>
  
           </div>
                        <div class="modal-footer">
								<button type="button" class="btn btn-primary glyphicon glyphicon-save"  data-dismiss="modal" ng-click="Add_New_User(User)" data-toggle="tooltip" title="Guardar Usuario"> Guardar</button>
                        <button type="Reset" class="btn btn-primary glyphicon glyphicon-remove" style="border-top: 2.5px;border-style:solid;border-color:#fff;" data-toggle="tooltip" title="Cancelación de Usuario" data-dismiss="modal"> Cancelar </button>                        
          
							</div>
                       
            </div>
                  </form>
		</div>
  </div>
		</div>
  
  
  </div>

-->


